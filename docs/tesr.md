ğŸ“‹ /prd-generator - PRDè‡ªå‹•ç”Ÿæˆ
èƒŒæ™¯ã¨ç¨®é¡
PRDç”Ÿæˆç³»ã®ã‚³ãƒãƒ³ãƒ‰/ã‚¹ã‚­ãƒ«ã¯è¤‡æ•°ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã—ã¾ã™ã€‚
åå‰ä½œè€…å½¢å¼ç‰¹å¾´/prd-generatorDenis Redozubovãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¼šè©±ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰PRDç”Ÿæˆprd-generatorjamesrochabrunã‚¹ã‚­ãƒ«å¯¾è©±çš„ãƒ’ã‚¢ãƒªãƒ³ã‚°â†’PRDç”Ÿæˆprd-taskmasteranombyte93ã‚¹ã‚­ãƒ«Taskmasteré€£æºã€ã‚¿ã‚¹ã‚¯åˆ†è§£ã¾ã§/create-prdbuildwithclaudeã‚³ãƒãƒ³ãƒ‰æ©Ÿèƒ½èª¬æ˜ã‹ã‚‰PRDç”Ÿæˆ/create-plantaddyorgã‚³ãƒãƒ³ãƒ‰æ¨™æº–åŒ–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®PRD

/prd-generator (Denis Redozubov)
Denis Redozubovã®/prd-generatorã¯Claude Codeãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã€ä¼šè©±ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰PRDã‚’ç”Ÿæˆã—ã¾ã™ã€‚è¦ä»¶ã«ã¤ã„ã¦è­°è«–ã—ãŸå¾Œã«/create-prdã‚’å‘¼ã³å‡ºã™ã¨ã€Executive Summaryã€User Storiesã€MVPã‚¹ã‚³ãƒ¼ãƒ—ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€æˆåŠŸåŸºæº–ã€å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºãªã©å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å«ã‚€å®Œå…¨ãªPRDã‚’ç”Ÿæˆã—ã¾ã™ã€‚ GitHub
åŸºæœ¬çš„ãªä½¿ã„æ–¹
# Step 1: ã¾ãšè¦ä»¶ã«ã¤ã„ã¦è‡ªç”±ã«ä¼šè©±ã™ã‚‹
> ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’ä½œã‚ŠãŸã„ã€‚OAuthã¨ãƒ¡ãƒ¼ãƒ«èªè¨¼ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã€
    2FAã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ä»˜ã‘ãŸã„ã€

# Step 2: ååˆ†ã«è­°è«–ã—ãŸå¾Œã«ã‚³ãƒãƒ³ãƒ‰ã‚’å‘¼ã³å‡ºã™
> /create-prd
PRDã«å«ã¾ã‚Œã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³
markdown# Product Requirements Document

## 1. Executive Summaryï¼ˆæ¦‚è¦ï¼‰
- 2-3æ®µè½ã®ãƒã‚¤ãƒ¬ãƒ™ãƒ«æ¦‚è¦

## 2. Problem Statementï¼ˆèª²é¡Œå®šç¾©ï¼‰
- ä½•ã‚’è§£æ±ºã™ã‚‹ã®ã‹

## 3. User Storiesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼‰
- As a [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—], I want to [è¡Œå‹•], So that [ä¾¡å€¤]
- å„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«Acceptance Criteriaä»˜ã

## 4. MVP Scopeï¼ˆæœ€å°å®Ÿè¡Œå¯èƒ½ã‚¹ã‚³ãƒ¼ãƒ—ï¼‰
- In Scope / Out of Scope ã®æ˜ç¢ºãªç·šå¼•ã

## 5. Architectureï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰
- æŠ€è¡“çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€ä¾å­˜é–¢ä¿‚

## 6. Success Criteriaï¼ˆæˆåŠŸåŸºæº–ï¼‰
- KPIã€æ¸¬å®šæ–¹æ³•

## 7. Implementation Phasesï¼ˆå®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã•ã‚ŒãŸãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

prd-generator ã‚¹ã‚­ãƒ«ï¼ˆjamesrochabrunç‰ˆï¼‰ã®è©³ç´°
ã‚ˆã‚Šä½“ç³»çš„ãªã‚¹ã‚­ãƒ«å®Ÿè£…ã§ã€å¯¾è©±çš„ãªãƒ’ã‚¢ãƒªãƒ³ã‚°ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµŒã¦PRDã‚’ç”Ÿæˆã—ã¾ã™ã€‚
SKILL.md ã®æ§‹é€ 
markdown---
name: prd-generator
description: Generate comprehensive Product Requirements Documents (PRDs)
  for product managers. Use this skill when users ask to "create a PRD",
  "write product requirements", "document a feature", or need help
  structuring product specifications.
---
ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ5ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
Step 1: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåé›†ï¼ˆDiscoveryï¼‰
markdown## å¿…é ˆãƒ’ã‚¢ãƒªãƒ³ã‚°é …ç›®
1. ä½•ã‚’è§£æ±ºã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‹ï¼Ÿ
2. ä¸»ãªãƒ¦ãƒ¼ã‚¶ãƒ¼/å¯¾è±¡è€…ã¯èª°ã‹ï¼Ÿ
3. ä¸»è¦ãªãƒ“ã‚¸ãƒã‚¹ç›®æ¨™ã¯ï¼Ÿ
4. æŠ€è¡“çš„ãªåˆ¶ç´„ã¯ã‚ã‚‹ã‹ï¼Ÿ
5. æˆåŠŸã¨ã¯ã©ã®ã‚ˆã†ãªçŠ¶æ…‹ã‹ï¼Ÿã©ã†æ¸¬å®šã™ã‚‹ã‹ï¼Ÿ
6. ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¯ï¼Ÿ
7. æ˜ç¤ºçš„ã«ã‚¹ã‚³ãƒ¼ãƒ—å¤–ãªã‚‚ã®ã¯ï¼Ÿ
```

**ãƒã‚¤ãƒ³ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè©³ç´°ãªãƒ–ãƒªãƒ¼ãƒ•ã‚’æœ€åˆã«æä¾›ã—ãŸå ´åˆã¯è³ªå•ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã€ä¸è¶³ã—ã¦ã„ã‚‹é‡è¦æƒ…å ±ã®ã¿ç¢ºèªã™ã‚‹ã€‚

#### Step 2: PRDæ§‹é€ ç”Ÿæˆï¼ˆ13ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
```
1.  Executive Summary      - ãƒã‚¤ãƒ¬ãƒ™ãƒ«æ¦‚è¦ï¼ˆ2-3æ®µè½ï¼‰
2.  Problem Statement      - èª²é¡Œã®æ˜ç¢ºãªè¡¨ç¾
3.  Goals & Objectives     - é”æˆç›®æ¨™
4.  User Personas          - ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼åƒ
5.  User Stories           - æ©Ÿèƒ½è¦ä»¶ã®è©³ç´°
6.  Success Metrics        - KPIã¨æ¸¬å®šåŸºæº–
7.  Scope                  - In/Out of Scope
8.  Technical Considerations - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ä¾å­˜é–¢ä¿‚ã€åˆ¶ç´„
9.  Design & UX Requirements - UI/UXã®è€ƒæ…®äº‹é …
10. Timeline & Milestones  - ä¸»è¦æ—¥ç¨‹ã¨ãƒ•ã‚§ãƒ¼ã‚º
11. Risks & Mitigation     - ãƒªã‚¹ã‚¯ã¨å¯¾ç­–
12. Dependencies & Assumptions - ä¾å­˜é–¢ä¿‚ã¨å‰ææ¡ä»¶
13. Open Questions         - æœªè§£æ±ºäº‹é …
Step 3: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä½œæˆ
markdownAs a [user type],
I want to [action],
So that [benefit/value].

Acceptance Criteria:
- [å…·ä½“çš„ã€ãƒ†ã‚¹ãƒˆå¯èƒ½ãªåŸºæº– 1]
- [å…·ä½“çš„ã€ãƒ†ã‚¹ãƒˆå¯èƒ½ãªåŸºæº– 2]
- [å…·ä½“çš„ã€ãƒ†ã‚¹ãƒˆå¯èƒ½ãªåŸºæº– 3]
```

#### Step 4: æˆåŠŸæŒ‡æ¨™ã®å®šç¾©

è£½å“ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é¸æŠï¼š
```
AARRR (Pirate Metrics):  Acquisition â†’ Activation â†’ Retention â†’ Revenue â†’ Referral
HEART Framework:          Happiness â†’ Engagement â†’ Adoption â†’ Retention â†’ Task Success
North Star Metric:        ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ã‚’è¡¨ã™å˜ä¸€ã®ä¸»è¦æŒ‡æ¨™
OKRs:                     Objectives and Key Results
Step 5: æ¤œè¨¼ï¼†ãƒ¬ãƒ“ãƒ¥ãƒ¼
bash# ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯
scripts/validate_prd.sh my_prd.md

# ãƒã‚§ãƒƒã‚¯é …ç›®:
# - å…¨å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹
# - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒæ­£ã—ã„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‹
# - æˆåŠŸæŒ‡æ¨™ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹
# - ã‚¹ã‚³ãƒ¼ãƒ—ãŒæ˜ç¢ºã‹
# - ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãŒæ®‹ã£ã¦ã„ãªã„ã‹
```

### PRDãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç¨®é¡
```
Standard PRD    â†’ åŒ…æ‹¬çš„ãªå®Œå…¨ç‰ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
Lean PRD        â†’ ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ãƒãƒ¼ãƒ å‘ã‘ã®ç°¡æ½”ç‰ˆ
One-Pager       â†’ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼å½¢å¼
Technical PRD   â†’ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°é‡è¦–ã®è¦ä»¶å®šç¾©
Design PRD      â†’ UX/UIé‡è¦–ã®è¦ä»¶å®šç¾©
```

ä½¿ã„åˆ†ã‘ä¾‹ï¼š
```
ã€ŒLean PRDã‚’ä½œã£ã¦...ã€  â†’ ç°¡æ½”ç‰ˆ
ã€ŒTechnical PRDã‚’...ã€   â†’ ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘è©³ç´°ç‰ˆ
å®Ÿç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ä¾‹
markdown## ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ–°æ©Ÿèƒ½PRD
User: ã€Œãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã«ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹PRDã‚’ä½œã£ã¦ã€
â†’ ãƒ†ãƒ¼ãƒåˆ‡æ›¿ã€è¨­å®šæ°¸ç¶šåŒ–ã€ã‚·ã‚¹ãƒ†ãƒ é€£å‹•ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ç”Ÿæˆ
â†’ æ¡ç”¨ç‡ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦ã‚’ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«è¨­å®š

## ãƒ‘ã‚¿ãƒ¼ãƒ³2: è£½å“æ”¹å–„PRD
User: ã€Œæ¤œç´¢æ©Ÿèƒ½ã®æ”¹å–„è¦ä»¶ã‚’æ›¸ã„ã¦ã€
â†’ ç¾çŠ¶åˆ†æ â†’ æ”¹å–„ææ¡ˆ â†’ å½±éŸ¿è©•ä¾¡ â†’ Before/Afterãƒ¡ãƒˆãƒªã‚¯ã‚¹

## ãƒ‘ã‚¿ãƒ¼ãƒ³3: æ–°è£½å“PRD
User: ã€Œæ–°ã—ã„ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è£½å“ã®PRDãŒå¿…è¦ã€
â†’ å¸‚å ´æ©Ÿä¼š â†’ ç«¶åˆåˆ†æ â†’ è£½å“ãƒ“ã‚¸ãƒ§ãƒ³ â†’ MVPã‚¹ã‚³ãƒ¼ãƒ— â†’ GTMè€ƒæ…®äº‹é …

## ãƒ‘ã‚¿ãƒ¼ãƒ³4: ã‚¯ã‚¤ãƒƒã‚¯PRD / ãƒ¯ãƒ³ãƒšãƒ¼ã‚¸ãƒ£ãƒ¼
User: ã€Œå°ã•ãªãƒã‚°ä¿®æ­£ã®ãŸã‚ã®è»½é‡PRDã‚’ä½œã£ã¦ã€
â†’ èª²é¡Œå®šç¾© â†’ è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ â†’ å—ã‘å…¥ã‚ŒåŸºæº– â†’ æˆåŠŸæŒ‡æ¨™ï¼ˆ1-2ãƒšãƒ¼ã‚¸ï¼‰

prd-taskmasterï¼ˆTaskmasteré€£æºç‰ˆï¼‰
prd-taskmasterã¯Claude Codeã‚¹ã‚­ãƒ«ã§ã€Taskmasterãªã©ã®ã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ„ãƒ¼ãƒ«ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã™ã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚ŒãŸã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã®PRDã‚’ç”Ÿæˆã—ã¾ã™ã€‚ GitHub
bash# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd ~/.claude/skills
git clone https://github.com/anombyte93/prd-taskmaster.git

# ä½¿ã„æ–¹
claude
> ã€Œãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰è¿½åŠ ã®PRDãŒæ¬²ã—ã„ã€
# â†’ ã‚¹ã‚­ãƒ«ãŒè‡ªå‹•èªè­˜ãƒ»èµ·å‹•
```

### å‡ºåŠ›ä¾‹
```
ğŸ“„ PRD Created: .taskmaster/docs/prd.md
ğŸ¤– CLAUDE.md Generated: TDDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¬ã‚¤ãƒ‰

ğŸ“Š Overview:
- Feature: Two-Factor Authentication
- Complexity: Medium
- Estimated Effort: 26 tasks, ~119 hours

ğŸ¯ Key Requirements:
1. REQ-001: TOTP/SMS 2FA support
2. REQ-002: Backup codes for recovery
3. REQ-003: Login flow integration

âš ï¸ Quality Validation: 58/60 (EXCELLENT âœ…)

ğŸš€ Next Steps:
1. Review PRD: .taskmaster/docs/prd.md
2. taskmaster init
3. taskmaster parse-prd --input .taskmaster/docs/prd.md
4. taskmaster next-task  # å®Ÿè£…é–‹å§‹
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
.taskmaster/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ prd.md              # ç”Ÿæˆã•ã‚ŒãŸPRD
â”‚   â””â”€â”€ architecture.md     # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ .gitkeep
â””â”€â”€ notes/
    â””â”€â”€ .gitkeep

ğŸ“ /explain-code - ã‚³ãƒ¼ãƒ‰ã‚’ã‚¢ãƒŠãƒ­ã‚¸ãƒ¼ã¨ASCIIå›³ã§èª¬æ˜
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å®Ÿè£…ä¾‹
explain-codeã¯Claude Codeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚­ãƒ«ã®ä¾‹ã§ã™ã€‚~/.claude/skills/explain-code/SKILL.mdã«é…ç½®ã—ã€ã‚³ãƒ¼ãƒ‰ã®ä»•çµ„ã¿ã‚’èª¬æ˜ã™ã‚‹éš›ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã“ã‚Œã¯ã©ã†å‹•ãã®ï¼Ÿã€ã¨è³ªå•ã—ãŸæ™‚ã«è‡ªå‹•çš„ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ Claude
SKILL.md
markdown---
name: explain-code
description: Explains code with visual diagrams and analogies.
  Use when explaining how code works, teaching about a codebase,
  or when the user asks "how does this work?"
---

When explaining code, always include:

1. **Start with an analogy**: Compare the code to something
   from everyday life

2. **Draw a diagram**: Use ASCII art to show the flow,
   structure, or relationships

3. **Walk through the code**: Explain step-by-step what happens

4. **Highlight a gotcha**: What's a common mistake
   or misconception?
```

### é…ç½®å ´æ‰€
```
~/.claude/skills/
â””â”€â”€ explain-code/
    â””â”€â”€ SKILL.md
```

### ã‚¹ã‚­ãƒ« vs ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ã®ä½¿ã„åˆ†ã‘

ã‚¹ã‚­ãƒ«ã¯`description`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åŸºã¥ã„ã¦ClaudeãŒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ã¦è‡ªå‹•çš„ã«èµ·å‹•ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚ä¸€æ–¹ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã¯æ˜ç¤ºçš„ã«`/command-name`ã§å‘¼ã³å‡ºã—ã¾ã™ã€‚ 
```
# ã‚¹ã‚­ãƒ«ã¨ã—ã¦ï¼ˆè‡ªå‹•èµ·å‹•ï¼‰
> ã€Œã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã©ã†å‹•ãã®ï¼Ÿã€
â†’ ClaudeãŒdescriptionã‚’è¦‹ã¦è‡ªå‹•ã§explain-codeã‚¹ã‚­ãƒ«ã‚’é©ç”¨

# ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ï¼ˆæ˜ç¤ºå‘¼ã³å‡ºã—ï¼‰
> /explain-code src/auth/middleware.js
â†’ æ‰‹å‹•ã§ãƒˆãƒªã‚¬ãƒ¼
```

---

## å‡ºåŠ›ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šå…·ä½“ä¾‹

### ä¾‹1: Express ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®èª¬æ˜
```
> explain this middleware

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ANALOGY: Airport Security Checkpoint

This middleware works like airport security.
Every passenger (request) must pass through
the checkpoint (middleware) before reaching
their gate (route handler). The guard checks
your boarding pass (JWT token) â€” if it's valid,
you proceed; if not, you're turned away.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ DIAGRAM:

  Request
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  authMiddleware  â”‚
â”‚                  â”‚
â”‚  â‘  Extract token â”‚
â”‚     from header  â”‚
â”‚         â”‚        â”‚
â”‚         â–¼        â”‚
â”‚  â‘¡ Verify JWT    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”‚
â”‚  Valid?    Invalidâ”‚
â”‚    â”‚         â”‚   â”‚
â”‚    â–¼         â–¼   â”‚
â”‚  next()   401    â”‚
â”‚            Error  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚        â”‚
     â–¼        â–¼
  Route    Client
  Handler  (rejected)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“– WALKTHROUGH:

Line 1-3: Function receives (req, res, next)
  â†’ The "security guard" gets the passenger info

Line 5: const token = req.headers.authorization?.split(' ')[1]
  â†’ Extracts the "boarding pass" from the
    "Authorization: Bearer xxx" header

Line 7-9: jwt.verify(token, SECRET_KEY)
  â†’ Checks if the boarding pass is genuine
  â†’ If valid, attaches decoded user to req.user

Line 11: next()
  â†’ Waves the passenger through to their gate

Line 13-15: catch block â†’ res.status(401)
  â†’ Invalid pass â†’ "Access Denied"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ GOTCHA:

Don't forget to handle expired tokens separately!
jwt.verify throws a TokenExpiredError, which you
might want to handle differently from a malformed
token â€” returning "Please log in again" instead
of "Access denied".
```

### ä¾‹2: React useState ã®èª¬æ˜
```
> how does useState work?

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ANALOGY: Whiteboard with a Camera

Imagine a whiteboard in a meeting room.
useState is like writing a value on the
whiteboard (state) and having a camera
that takes a photo every time you erase
and rewrite (re-render). The "setter"
is your eraser + marker combo.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ DIAGRAM:

  const [count, setCount] = useState(0)
         â”‚         â”‚              â”‚
         â”‚         â”‚              â””â”€ Initial value
         â”‚         â”‚                 (written on whiteboard)
         â”‚         â”‚
         â”‚         â””â”€ Setter function
         â”‚            (eraser + marker)
         â”‚
         â””â”€ Current value
            (what's on the whiteboard NOW)


  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  setCount(1)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ count: 0 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚ count: 1 â”‚
  â”‚          â”‚   (erase &    â”‚          â”‚
  â”‚ Render 1 â”‚    rewrite)   â”‚ Render 2 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       ğŸ“¸                         ğŸ“¸
   (snapshot)                 (snapshot)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ GOTCHA:

State updates are ASYNCHRONOUS!

  setCount(count + 1)
  setCount(count + 1)  // â† Still uses OLD count!
  // Result: count is 1, not 2

Fix: Use the functional form:
  setCount(prev => prev + 1)
  setCount(prev => prev + 1)  // â† Uses latest!
  // Result: count is 2 âœ“
```

### ä¾‹3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
```
> explain database indexes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ANALOGY: Library Card Catalog

A database index is like the card catalog
in a library. Without it, finding a book
means walking every shelf (full table scan).
With a card catalog (index), you look up
"Shakespeare" â†’ "Aisle 7, Shelf 3" and
go directly there.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ DIAGRAM:

WITHOUT INDEX (Full Table Scan):

  SELECT * FROM users WHERE email = 'bob@...'

  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
  â”‚ id  â”‚ email       â”‚ ... â”‚
  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
  â”‚  1  â”‚ alice@...   â”‚     â”‚  â† scan
  â”‚  2  â”‚ charlie@... â”‚     â”‚  â† scan
  â”‚  3  â”‚ bob@...     â”‚     â”‚  â† FOUND! (but keeps going)
  â”‚  4  â”‚ diana@...   â”‚     â”‚  â† scan
  â”‚ ... â”‚ ...         â”‚     â”‚  â† scan ALL rows
  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
  Time: O(n) ğŸ¢


WITH INDEX (B-Tree Lookup):

  Index on "email":
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”
              â”‚  D    â”‚
              â”œâ”€â”€â”€â”¬â”€â”€â”€â”¤
             â•±         â•²
      â”Œâ”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”
      â”‚ A-C â”‚           â”‚ E-Z â”‚
      â””â”€â”€â”¬â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ alice   â”‚ â†’ row 1
    â”‚ bob     â”‚ â†’ row 3  â† FOUND! (stop)
    â”‚ charlie â”‚ â†’ row 2
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Time: O(log n) ğŸš€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ GOTCHA:

Indexes speed up reads but SLOW DOWN writes!
Every INSERT/UPDATE must also update the index.
Don't index every column â€” only those you
frequently WHERE, JOIN, or ORDER BY on.

ã‚«ã‚¹ã‚¿ãƒ æ‹¡å¼µç‰ˆã®ä¾‹
å…¬å¼ã®4ãƒ«ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ã¦ã€ã‚ˆã‚Šå……å®Ÿã—ãŸexplain-codeã‚¹ã‚­ãƒ«ã‚’ä½œã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š
markdown---
name: explain-code
description: Explains code with visual diagrams, analogies, 
  and progressive detail levels. Use when explaining how code 
  works, teaching about a codebase, or when the user asks 
  "how does this work?"
---

When explaining code, ALWAYS follow this structure:

## 1. One-Sentence Summary
Start with a single sentence: "This code does X."

## 2. Analogy from Everyday Life
Compare to something non-technical:
- Data structures â†’ physical objects (stack = plate stack)
- Algorithms â†’ real-world processes (sorting = organizing cards)
- Patterns â†’ social systems (observer = newsletter subscription)
- Async â†’ real-world concurrency (restaurant kitchen)

## 3. ASCII Diagram
Choose the best visualization:
- **Flow chart**: for sequential processes
- **Tree diagram**: for hierarchies / recursion
- **Sequence diagram**: for multi-component communication
- **State diagram**: for state machines
- **Box diagram**: for architecture / relationships

Use these symbols consistently:
  â”€â”€â”€ â”‚ â”Œ â” â”” â”˜ â”œ â”¤ â”¬ â”´ â”¼  (box drawing)
  â”€â”€â–¶ â”€â”€â–·  (arrows)
  âœ“ âœ— âš   (status)
  â‘  â‘¡ â‘¢  (numbered steps)

## 4. Step-by-Step Walkthrough
Reference specific line numbers. Explain:
- WHAT each section does
- WHY it's done that way
- HOW data transforms at each step

## 5. Gotcha / Common Mistake
Highlight ONE thing that trips people up.
Show the wrong way AND the right way.

## 6. Related Concepts (optional)
If helpful, mention 1-2 related topics
the reader might want to explore next.

ã¾ã¨ã‚ï¼š2ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã®ä½ç½®ã¥ã‘
/prd-generator/explain-codeç¨®é¡ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ / ã‚¹ã‚­ãƒ«ã‚¹ã‚­ãƒ«ï¼ˆå…¬å¼ã‚µãƒ³ãƒ—ãƒ«ï¼‰ãƒˆãƒªã‚¬ãƒ¼/create-prd ã§æ˜ç¤ºå‘¼ã³å‡ºã—ã€Œã“ã‚Œã©ã†å‹•ãã®ï¼Ÿã€ã§è‡ªå‹•èµ·å‹•å…¥åŠ›ä¼šè©±ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ / å¼•æ•°ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ« / é–¢æ•°å‡ºåŠ›æ§‹é€ åŒ–ã•ã‚ŒãŸMarkdown PRDã‚¢ãƒŠãƒ­ã‚¸ãƒ¼ + ASCIIå›³ + è§£èª¬å¯¾è±¡è€…PM / ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼é–‹ç™ºè€… / å­¦ç¿’è€…è¤‡é›‘åº¦é«˜ï¼ˆ13ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€æ¤œè¨¼ä»˜ãï¼‰ä¸­ï¼ˆ4-6ã‚¹ãƒ†ãƒƒãƒ—æ§‹é€ ï¼‰